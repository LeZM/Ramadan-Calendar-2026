<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horaires de Prière - Ramadan 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Crimson+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --forest: #1a3a2e;
            --sage: #4a6b5c;
            --mint: #7d9d88;
            --cream: #f4f1ea;
            --gold: #c9a961;
            --shadow: rgba(26, 58, 46, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Pro', serif;
            background: linear-gradient(135deg, var(--forest) 0%, #0f2419 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            color: var(--cream);
            overflow-x: hidden;
        }

        .container {
            max-width: 500px;
            width: 100%;
            background: rgba(74, 107, 92, 0.12);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(201, 169, 97, 0.2);
            border-radius: 24px;
            padding: 3rem 2.5rem;
            box-shadow: 0 20px 60px var(--shadow);
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 2.5rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid rgba(201, 169, 97, 0.2);
        }

        .arabic-date {
            font-family: 'Amiri', serif;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 0.5rem;
            letter-spacing: 0.5px;
            animation: slideDown 0.6s ease-out 0.2s both;
        }

        .gregorian-date {
            font-size: 1.1rem;
            color: var(--mint);
            font-weight: 300;
            letter-spacing: 1px;
            animation: slideDown 0.6s ease-out 0.3s both;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .prayer-times {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .prayer-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem 1.5rem;
            background: rgba(26, 58, 46, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(201, 169, 97, 0.15);
            transition: all 0.3s ease;
            animation: slideUp 0.5s ease-out both;
        }

        .prayer-item:nth-child(1) { animation-delay: 0.4s; }
        .prayer-item:nth-child(2) { animation-delay: 0.5s; }
        .prayer-item:nth-child(3) { animation-delay: 0.6s; }
        .prayer-item:nth-child(4) { animation-delay: 0.7s; }
        .prayer-item:nth-child(5) { animation-delay: 0.8s; }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .prayer-item:hover {
            background: rgba(26, 58, 46, 0.5);
            border-color: rgba(201, 169, 97, 0.3);
            transform: translateX(4px);
        }

        .prayer-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--cream);
            letter-spacing: 0.5px;
        }

        .prayer-time {
            font-size: 1.3rem;
            font-weight: 300;
            color: var(--gold);
            font-variant-numeric: tabular-nums;
            letter-spacing: 1px;
        }

        .ornament {
            text-align: center;
            margin: 2rem 0 1rem;
            color: var(--gold);
            opacity: 0.4;
            font-size: 1.5rem;
        }

        .error {
            text-align: center;
            padding: 2rem;
            color: var(--mint);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        @media (max-width: 600px) {
            .container {
                padding: 2rem 1.5rem;
            }

            .arabic-date {
                font-size: 1.8rem;
            }

            .prayer-item {
                padding: 1rem 1.2rem;
            }

            .prayer-name {
                font-size: 1rem;
            }

            .prayer-time {
                font-size: 1.1rem;
            }
        }

        /* Decorative background elements */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(201, 169, 97, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: drift 60s linear infinite;
            pointer-events: none;
        }

        @keyframes drift {
            from {
                transform: translate(0, 0);
            }
            to {
                transform: translate(40px, 40px);
            }
        }
    </style>
</head>
<body>
    <div class="container" id="app">
        <div class="header">
            <div class="arabic-date" id="arabic-date">رمضان</div>
            <div class="gregorian-date" id="gregorian-date">Chargement...</div>
        </div>

        <div class="prayer-times" id="prayer-times">
            <!-- Prayer times will be inserted here -->
        </div>

        <div class="ornament">۞</div>
    </div>

    <script>
        // Arabic month names
        const arabicMonths = {
            'Ramadan': 'رمضان',
            'Shawwal': 'شوال',
            'Dhul-Qadah': 'ذو القعدة',
            'Dhul-Hijjah': 'ذو الحجة'
        };

        // Month name mapping from French to English for date matching
        const monthMapping = {
            'Janvier': 0, 'Février': 1, 'Mars': 2, 'Avril': 3,
            'Mai': 4, 'Juin': 5, 'Juillet': 6, 'Août': 7,
            'Septembre': 8, 'Octobre': 9, 'Novembre': 10, 'Décembre': 11
        };

        // CSV data will be embedded here
        const csvData = `Hegerian day;Hegerian month;Gregorian day;Gregorian month;Imsak;Fajr;Shuruq;Maghrib (+);Isha (15);;;
1;Ramadan;19;Février;06:03;06:22;07:52;18:18;19:42;;;
2;Ramadan;20;Février;06:01;06:20;07:50;18:20;19:44;;;
3;Ramadan;21;Février;05:59;06:18;07:48;18:21;19:46;;;
4;Ramadan;22;Février;05:57;06:16;07:46;18:23;19:47;;;
5;Ramadan;23;Février;05:55;06:14;07:44;18:25;19:49;;;
6;Ramadan;24;Février;05:53;06:12;07:42;18:27;19:51;;;
7;Ramadan;25;Février;05:51;06:11;07:40;18:28;19:52;;;
8;Ramadan;26;Février;05:49;06:09;07:38;18:30;19:54;;;
9;Ramadan;27;Février;05:47;06:07;07:36;18:32;19:56;;;
10;Ramadan;28;Février;05:45;06:05;07:34;18:33;19:57;;;
11;Ramadan;1;Mars;05:43;06:02;07:32;18:35;19:59;;;
12;Ramadan;2;Mars;05:41;06:00;07:30;18:37;20:01;;;
13;Ramadan;3;Mars;05:39;05:58;07:28;18:39;20:02;;;
14;Ramadan;4;Mars;05:37;05:56;07:26;18:40;20:04;;;
15;Ramadan;5;Mars;05:35;05:54;07:24;18:42;20:06;;;
16;Ramadan;6;Mars;05:33;05:52;07:22;18:44;20:07;;;
17;Ramadan;7;Mars;05:30;05:50;07:19;18:45;20:09;;;
18;Ramadan;8;Mars;05:28;05:48;07:17;18:47;20:11;;;
19;Ramadan;9;Mars;05:26;05:45;07:15;18:49;20:12;;;
20;Ramadan;10;Mars;05:24;05:43;07:13;18:50;20:14;;;
21;Ramadan;11;Mars;05:21;05:41;07:11;18:52;20:16;;;
22;Ramadan;12;Mars;05:19;05:39;07:08;18:54;20:18;;;
23;Ramadan;13;Mars;05:17;05:36;07:06;18:55;20:19;;;
24;Ramadan;14;Mars;05:14;05:34;07:04;18:57;20:21;;;
25;Ramadan;15;Mars;05:12;05:32;07:02;18:59;20:23;;;
26;Ramadan;16;Mars;05:10;05:29;07:00;19:00;20:25;;;
27;Ramadan;17;Mars;05:07;05:27;06:57;19:02;20:26;;;
28;Ramadan;18;Mars;05:05;05:25;06:55;19:03;20:28;;;
29;Ramadan;19;Mars;05:02;05:22;06:53;19:05;20:30;;;
30;Ramadan;20;Mars;05:00;05:20;06:51;19:07;20:32;;;`;

        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(';');
            const data = [];

            for (let i = 1; i < lines.length; i++) {
                const values = lines[i].split(';');
                const row = {};
                headers.forEach((header, index) => {
                    row[header.trim()] = values[index]?.trim() || '';
                });
                data.push(row);
            }

            return data;
        }

        function findTodaysPrayerTimes() {
            const today = new Date();
            const todayDay = today.getDate();
            const todayMonth = today.getMonth(); // 0-11

            const prayerData = parseCSV(csvData);

            // Find matching row
            for (const row of prayerData) {
                const gregorianDay = parseInt(row['Gregorian day']);
                const gregorianMonth = monthMapping[row['Gregorian month']];

                if (gregorianDay === todayDay && gregorianMonth === todayMonth) {
                    return row;
                }
            }

            return null;
        }

        function displayPrayerTimes() {
            const data = findTodaysPrayerTimes();
            const arabicDateEl = document.getElementById('arabic-date');
            const gregorianDateEl = document.getElementById('gregorian-date');
            const prayerTimesEl = document.getElementById('prayer-times');

            if (!data) {
                prayerTimesEl.innerHTML = `
                    <div class="error">
                        Aucune donnée disponible pour aujourd'hui.<br>
                        Les horaires sont disponibles du 19 février au 20 mars 2026.
                    </div>
                `;
                arabicDateEl.textContent = 'رمضان';
                gregorianDateEl.textContent = new Date().toLocaleDateString('fr-FR', { 
                    day: 'numeric', 
                    month: 'long',
                    year: 'numeric'
                });
                return;
            }

            // Display dates
            const hegerianMonth = data['Hegerian month'];
            const arabicMonth = arabicMonths[hegerianMonth] || hegerianMonth;
            arabicDateEl.textContent = `${data['Hegerian day']} ${arabicMonth}`;
            gregorianDateEl.textContent = `${data['Gregorian day']} ${data['Gregorian month']} 2026`;

            // Display prayer times
            const prayers = [
                { name: 'Imsak', time: data['Imsak'] },
                { name: 'Fajr', time: data['Fajr'] },
                { name: 'Shuruq', time: data['Shuruq'] },
                { name: 'Maghrib', time: data['Maghrib (+)'] },
                { name: 'Isha', time: data['Isha (15)'] }
            ];

            prayerTimesEl.innerHTML = prayers
                .map(prayer => `
                    <div class="prayer-item">
                        <div class="prayer-name">${prayer.name}</div>
                        <div class="prayer-time">${prayer.time}</div>
                    </div>
                `)
                .join('');
        }

        // Initialize on page load
        displayPrayerTimes();
    </script>
</body>
</html>
